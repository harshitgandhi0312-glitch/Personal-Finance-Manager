<!-- {% include 'header.html' %}
<h1>Welcome user</h1>
<a href="/users/logout">Click here to log out</a>
{% include 'footer.html' %} -->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PFM Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { background: #f8f9fa; }
    .card-stats { border-radius: 12px; }
    .module-card { cursor: pointer; transition: transform .12s ease; }
    .module-card:hover { transform: translateY(-4px); }
    .small-muted { font-size: .85rem; color: #6c757d; }
  </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
  <div class="container">
    <a class="navbar-brand" href="#">PFM</a>
    <div class="d-flex align-items-center">
      <span class="me-3">Hello, <strong>Username</strong></span>
      <a class="btn btn-outline-secondary btn-sm" href="#">Profile</a>
    </div>
  </div>
</nav>

<main class="container mt-4">
  <!-- Top summary cards -->
  <div class="row g-3">
    <!-- <div class="col-12 col-md-3">
      <div class="card card-stats p-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="mb-0 small-muted">Total Income (Month)</h6>
            <h4 class="mt-1">‚Çπ 45,000</h4>
          </div>
          <div class="text-success">‚ñ≤ 5%</div>
        </div>
      </div>
    </div> -->
    <!-- <div class="col-12 col-md-3">
      <div class="card card-stats p-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="mb-0 small-muted">Total Expense (Month)</h6>
            <h4 class="mt-1">‚Çπ 28,000</h4>
          </div>
          <div class="text-danger">‚ñº 2%</div>
        </div>
      </div>
    </div> -->
    <!-- <div class="col-12 col-md-3">
      <div class="card card-stats p-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="mb-0 small-muted">Net Balance</h6>
            <h4 class="mt-1">‚Çπ 17,000</h4>
          </div>
          <div class="text-primary">‚óè</div>
        </div>
      </div>
    </div> -->
    <!-- <div class="col-12 col-md-3">
      <div class="card card-stats p-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="mb-0 small-muted">Budget Used</h6>
            <h4 class="mt-1">70%</h4>
          </div>
          <div class="text-warning">‚ö†</div>
        </div>
      </div>
    </div> -->
  </div>

  <!-- Modules grid -->
  <div class="row mt-4 g-3">
    <div class="col-6 col-md-3">
      <div class="card module-card p-3 text-center shadow-sm" onclick="location.href='#categories'">
        <div class="mb-2">üìÅ</div>
        <h6>Categories</h6>
        <p class="small-muted">Add/Edit/Delete</p>
      </div>
    </div>
    <div class="col-6 col-md-3">
      <div class="card module-card p-3 text-center shadow-sm" onclick="location.href='#transactions'">
        <div class="mb-2">üí∏</div>
        <h6>Transactions</h6>
        <p class="small-muted">Add / View / Filter</p>
      </div>
    </div>
    <div class="col-6 col-md-3">
      <div class="card module-card p-3 text-center shadow-sm" onclick="location.href='#budget'">
        <div class="mb-2">üìä</div>
        <h6>Budget</h6>
        <p class="small-muted">Set Limits</p>
      </div>
    </div>
    <div class="col-6 col-md-3">
      <div class="card module-card p-3 text-center shadow-sm" onclick="location.href='#reports'">
        <div class="mb-2">üìà</div>
        <h6>Reports</h6>
        <p class="small-muted">Charts & Export</p>
      </div>
    </div>
  </div>

  <!-- Main content: chart + recent transactions -->
  <div class="row mt-4 g-3">
    <div class="col-12 col-lg-7">
      <div class="card p-3 shadow-sm">
        <h6>Expense Breakdown (by category)</h6>
        <canvas id="pieChart" height="220"></canvas>
      </div>

      <div class="card p-3 mt-3 shadow-sm">
        <h6 class="mb-3">Monthly Income vs Expense</h6>
        <canvas id="barChart" height="160"></canvas>
      </div>
    </div>

    <div class="col-12 col-lg-5">
      <div class="card p-3 shadow-sm">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Recent Transactions</h6>
          <a href="#transactions" class="small-muted">View all</a>
        </div>
        <div class="table-responsive">
          <table class="table table-sm align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th>Date</th>
                <th>Category</th>
                <th>Type</th>
                <th class="text-end">Amount</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>2025-11-10</td>
                <td>Food</td>
                <td>Expense</td>
                <td class="text-end">‚Çπ 250</td>
              </tr>
              <tr>
                <td>2025-11-09</td>
                <td>Salary</td>
                <td>Income</td>
                <td class="text-end">‚Çπ 45,000</td>
              </tr>
              <tr>
                <td>2025-11-08</td>
                <td>Transport</td>
                <td>Expense</td>
                <td class="text-end">‚Çπ 120</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="card p-3 mt-3 shadow-sm">
        <h6>Quick Actions</h6>
        <div class="d-grid gap-2 mt-2">
          <a class="btn btn-primary" href="#add-transaction">+ Add Transaction</a>
          <a class="btn btn-outline-secondary" href="#import">Import CSV</a>
          <a class="btn btn-outline-secondary" href="#export">Export CSV</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="text-center small-muted mt-4 mb-4">Personal Finance Manager ‚Ä¢ Demo Dashboard</footer>
</main>

<script>
// Sample data for charts - replace with real backend data or JSON endpoints
const pieData = {
  labels: ['Food', 'Transport', 'Bills', 'Entertainment', 'Other'],
  datasets: [{ data: [400, 120, 300, 150, 80], hoverOffset: 4 }]
};
const barData = {
  labels: ['Jul','Aug','Sep','Oct','Nov','Dec'],
  datasets: [
    { label: 'Income', data: [30000,35000,32000,40000,45000,42000], tension: 0.4 },
    { label: 'Expense', data: [20000,21000,19000,25000,28000,26000], tension: 0.4 }
  ]
};

new Chart(document.getElementById('pieChart'), {
  type: 'pie',
  data: pieData,
  options: { responsive: true }
});

new Chart(document.getElementById('barChart'), {
  type: 'bar',
  data: barData,
  options: { responsive: true, scales: { y: { beginAtZero: true } } }
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
